---
services:
  palworld:
    image: thijsvanloef/palworld-server-docker:latest
    restart: unless-stopped
    container_name: palworld-server
    stop_grace_period: 30s # Set to however long you are willing to wait for the container to gracefully stop
    ports:
      - 8211:8211/udp
      - 27015:27015/udp # Required if you want your server to show up in the community servers tab
      # - 8212:8212/tcp  # Port for REST API if REST_API_ENABLED: true
    environment:
      PUID: 1000
      PGID: 1000
      PORT: 8211 # Optional but recommended
      QUERY_PORT: 27015 # Query port for server discovery
      PLAYERS: 16 # Optional but recommended
      SERVER_PASSWORD: "besito123" # Optional but recommended
      MULTITHREADING: true
      REST_API_ENABLED: false
      TZ: "America/Bogota"
      ADMIN_PASSWORD: "adminPasswordHere"
      COMMUNITY: true # Enable this if you want your server to show up in the community servers tab, USE WITH SERVER_PASSWORD!
      SERVER_NAME: "Besito's Server"
      SERVER_DESCRIPTION: "By Kraidx using Playit and thijsvanloef/palworld-server-docker"
      PUBLIC_IP: "147.185.221.27" # Playit public IP
      PUBLIC_PORT: 7778 # Playit public port (update if playit assigns different port)
      CROSSPLAY_PLATFORMS: "(Xbox,PS5)" # Xbox-only: Supports Xbox Series X/S, Xbox One, and Windows PC from Microsoft Store
      USE_DEPOT_DOWNLOADER: "true"
      UPDATE_ON_BOOT: "true"
      BACKUP_ENABLED: "true"
      DELETE_OLD_BACKUPS: "true"
      OLD_BACKUP_DAYS: "30"
      AUTO_UPDATE_ENABLED: "true"
      ENABLE_PLAYER_LOGGING: "true"
      ARM64_DEVICE: "m1"
      DISABLE_GENERATE_SETTINGS: "true" # Prevents server from regenerating PalWorldSettings.ini (allows manual edits)
    volumes:
      - ./palworld:/palworld/
